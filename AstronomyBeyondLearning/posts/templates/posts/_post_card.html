{% load static %}
<div class="post-card">
    <a href="{% url 'posts:post_detail' post.id %}">
        <div class="post-media-wrapper">
            {% if post.media_file %}
                {% if post.media_type == 'image' %}
                    <img src="{{ post.media_file.url }}" alt="{{ post.title }}" class="media-preview">
                {% endif %}
            {% endif %}
        </div>
    </a>

    <div class="post-content-body">
        <div class="post-header-meta">
            <span class="created-at-date">Created at: {{ post.created_at|date:"M d, Y" }}</span>
            
            <div class="post-actions-icons"> 
                <span class="action-icon bookmark-toggle" data-post-id="{{ post.id }}">
                    <i class="material-icons">bookmark_border</i> 
                </span>
            </div>
            
        </div>

        <h2 class="post-title-card">
            <a href="{% url 'posts:post_detail' post.id %}">{{ post.title|truncatechars:35 }}</a>
        </h2>

        <p class="post-description-text">
            {{ post.body|striptags|truncatechars:85 }}
        </p>

        <div class="post-footer-actions">
            
            <span class="action-stats like-stats">
                <button class="action-icon like-btn" data-post-id="{{ post.id }}" style="border:none; background:none; padding:0; cursor:pointer;">
                    <i class="material-icons">favorite_border</i> 
                </button>
                <span class="like-count">{{ post.likes.count }}</span>
            </span>

            <a href="{% url 'posts:post_detail' post.id %}#comments" class="action-stats comment-stats">
                <i class="material-icons">comment</i> 
                <span class="comment-count">{{ post.comments.count }}</span> 
            </a>

            <a href="{% url 'posts:post_detail' post.id %}" class="read-more-link">
                Read more
            </a>
        </div>
    </div>
</div>